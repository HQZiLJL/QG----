#### SQL语法规则

·SQL基本语法
·SQL库操作
·SQL表操作
·SQL数据操作

#### SQL基本语法

SQL语法规则：SQL是一种结构化编程语言

- 基础SQL指令通常是**以行为单位**
- SQL指令需要**语句结束符**，默认是英文分号：**；**、**\g** 、**\G**
  - \G:主要用于查询数据，立体展示结果
- SQL指令类似自然语言
- 编写的SQL中如果用到了关键字或者保留字，需要使用反引号**`**来包裹，让系统忽略

1. 结构创建
   create 结构类型 结构名 结构描述；

2. 显示结构
   #显示结构
   show 结构类型（复数）；
   #显示结构创建详情
   show create 结构类型 结构名；

3. 数据操作（数据表）
   #新增数据
   insert into 表名 values
   #查看数据
   select from 表名
   #更新数据
   update 表名 set
   #删除数据
   delete from 表名

##### 根据数据库的对象层级，可以将基础SQL操作分为三类

- 库操作：数据库相关操作
- 表操作：数据表（字段）相关操作
- 数据操作：数据相关操作

#### 库操作

###### 创建数据库：根据项目需求创建一个存储数据的仓库

- 使用`create database 数据库名字;` 创建

  - 数据库层面可以指定字符集：charset./character set
  - 数据库层面可以指定校效对集：collate

- 创建数据库会在磁盘指定存放处产生一个文件夹

- 创建语法

  `create database 数据库名字 [数据库选项]；`

###### 查看数据库分为两种方式

- 查看全部：show databases,
- 查看具体创建指令：show create database数据库名字：

###### 使用数据库

- 让系统知道后续SQL指令都是针对当前选择的数据库
- 简化后续SQL指令的复杂度

###### 修改数据库：修改数据库的相关库选项

- 数据库修改分为两个部分

  - 字符集
  - 校对集

- 数据库修改指令（与创建指令差不多）

  `alter database 数据库名字 库选项;`

修改数据库校对集（如果字符集修改**必须同时改变字符集**）

`alter database db_3 charset gbk collate gbk_chinese_ci;`

###### 删除数据库(谨慎)

- 删除数据库会删除数据库内所有的表和数据

- 删除数据库操作要慎重（删前备份）

- 删除数据库后，对应的存储文件夹就会消失

- 删除语法

  `drop database 数据库名字；`

#### 表操作

###### 创建数据表

1. 数据表的创建需要指定数据库
   - 在表名字前指定数据库：数据库名表名
   
     `create table t_1(`
   
     `name varchar(50)`
   
     `);`
   
   - 进入数据库环境常用)
   
     `use db_2;`
   
     `create table t_2(`
               `name varchar(50),`
               `age int,`
              ` gender varchar(10)`
     `);`
   
2. 一张数据表用来存一组相关数据

3. 扩展：存储引擎是指数据存储和管理的方式，MySQL中提供了多种存储引擎，一般使用默认存储引擎
   - **InnoDB**
     - 默认存储引擎
     - 支持**事务处理**和**外键**
     - 数据统一管理

4. 扩展：如果想创建一个与已有表一样的数据表，MySQL提供了一种便捷的复制模式
   - create table 新表名 like 数据库名字.表名

###### 显示数据表：客户端通过指令显示已有的数据

- 数据表的显示跟用户权限有关
- 显示数据表有两种方式
  - 显示所有数据表
  - 显示具体数据表的创建指令

**示例**

1. 

2. 显示所有数据表一一指定数据库

   `show tables from db_3;`

3. 显示部分关联数据表一一匹配

   `show tables like '%Iike';`                **_**表示匹配一个字符（固定位置），**%**表示匹配N个字符

4. 显示数据表的**创建指令**

   show cdeate table t_1;                              看到的结果未必一定是真实创建的指令(系统会加工)

在显示数据的时候可以使用不同的语句结束符

- \g:与普通分号无区别
- \G:纵向显示列数据

###### 查看数据表：指查看数据表中的具体结构

`desc表名：
describe表名；
show columns from表名；`

###### 更改数据表：修改表名字和表选项

- 修改表名：rename table 表名 to 新表名

- 修改表选项：alter table 表名 表选项

  `alter table t1 charset utf8;`

##### 更改字段：指针对表创建好后，里面字段的**增删改**

- 字段操作包含字段名字、类型和属性的操作
- 字段操作分为四类
  - 新增字段：add[column]
  - 更改字段名：change
  - 修改类型：modify
  - 删除字段：drop

- 字段操作还有位置处理

- 字段操作通常是在表已经存在数据后进行

###### 新增字段：

在表创建好后往里面增加其他字段

- 字段的新增必须同时存在字段类型

- 新增语法

  `alter table 新表名 add [column] 字段名 字段类型 [字段属性] [字段位置]`

###### 字段位置：

指字段放到某个指定字段之后

- 字段位置分为两种:
  - 第一个字段：first
  - **某个字段后**：after 已经存在字段名

- 字段位置适用于追加字段、修改字段、更改字段名

- 字段位置语法

  `alter table 表名 add 字段操作 字段位置；`

###### 更改字段名：

指对已经存在的字段名进行修改

- 字段名的修改也必须跟上字段类型

- 字段名修改语法

  alter table 表名 change 原字段名 新字段名 **字段类型(必须写)** [字段属性] [位置];

字段名更改通常只是修改字段名字，但是也**必须跟随类型**

###### 修改字段：

指修改字段的相关信息

- 修改字段类型、字段属性和位置

- 修改字段语法

  alter table 表名 modify 字段名 字段类型 [字段属性] [位置];

###### 删除字段：

即将某个不要的字段从表中剔除

- 删除字段会将数据也删除**(不可逆)**

- 删除字段语法
- alter table 表名 drop 字段名；

create table `userinfo`(

  `Id` int(11) not null auto increment comment '主键',

  `UserName` varchar(64) not null comment '用户名',

  `UserPass` varchar(64) not null comment '用户密吗',

  primary key('Id')

) charset = utf8 comment = '用户信息表';****
